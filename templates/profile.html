<!-- Show walks, landmarks and scores -->

{% extends 'base.html' %}
{% block content %}


    <p>{{user.email }}:  View a log of all your walks.  Add and rate landmarks.</p>
    <ul>
          {% if saved %}
            <li>My Favorites:
              {% for save in saved|default("", True) %}
              <!-- for every landmark that has been parsed from the ratings object that was passed through, we display its score.  -->
                <ul><a href="/landmarks/{{ save.landmark_id }}">{{ save.landmark.landmark_name|default("", True) }}</a></ul>
                <!-- FIXME display map of saved destinations with pop ups. -->
            </li>{% endfor %}
          {% endif %}


          {% if walks %}
            <li>My Walks:
              <ul>{% for walk in walks %}
                <li>{{ walk.log_datetime | date }}:  from
                    {{ walk.origin}} to {{ walk.destination }}
                    <!-- walk.walk_landmark_link.landmark.landmark_name -->

                    ({{ walk.distance }} meters in 

                      {% if (walk.duration > 60) %}
                        {{ walk.duration / 60 }} hours
                      {% else %}
                        {{ walk.duration }} minutes
                      {% endif %})
                </li>
                <!-- FIXME: allow rating of walks? -->
              {% endfor %}
            </ul>
            </li>
          {% endif %}

          {% if ratings %}
            <li>My Landmarks: 
                <ul>{% for rating in ratings %}
                  <!-- for every landmark that has been parsed from the ratings object that was passed through, we display its score.  -->
                  
                    <a href="/landmarks/{{ rating.landmark_id}}">{{ rating.landmark.landmark_name | title }}</a>
                    <ul>
                      <li>You rated: {{ rating.user_score }}</li>
                      {% if rating.user_notes_for_landmark %}
                          <li>Your notes: {{ rating.user_notes_for_landmark }}</li>
                      {% endif %}
                    </ul>
                {% endfor %}</ul>
            </li>
          {% endif %}

          
    </ul>
    <a href='/map'>Start a new walk</a>
              <!-- <a href="/users/{{ user.user_id }}"> -->
{% endblock %}